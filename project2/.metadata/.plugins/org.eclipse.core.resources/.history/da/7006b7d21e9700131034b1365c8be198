exports.createMainWindow = function() {
	var window = Ti.UI.createWindow({
		backgroundColor : "#FFFFFF",
		title : "Project2",
		layout : "vertical",
		navBarHidden : true
	});

	var navView = Ti.UI.createView({
		height : "100px",
		width : "100%",
		backgroundColor : "#000080",
		layout : "horizontal"
	});
	
	navView.add(Ti.UI.createLabel({
		text : "  First App  ",
		textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER,
		font: { fontSize:28 },
		color : "white",
		top : 20
	}));
	
	var createButton = Ti.UI.createButton({
		title : "  Entry  ",
		textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER,
		font: { fontSize:28 },
		top : 20
	});
	navView.add(createButton);
	
	var photoButton = Ti.UI.createButton({
		title : "  Take Photo  ",
		textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER,
		font: { fontSize:28 },
		top : 20
	});
	navView.add(photoButton);
	
	var galleryButton = Ti.UI.createButton({
		title : "Upload Photo",
		textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER,
		font: { fontSize:28 },
		top : 20
	});
	navView.add(galleryButton);
	
	window.add(navView);
	
	var tableView = Ti.UI.createTableView({
		data : [],
		backgroundColor : "#FFFFFF"
	});
	
	window.add(tableView);
	
	galleryButton.addEventListener('click', function() {
		window.fireEvent('openPhotoGallery', {});
	});
	
	photoButton.addEventListener('click', function() {
		window.fireEvent('takePhoto', {});
	});
	
	createButton.addEventListener('click', function() {
		window.fireEvent('add', {});
	});
	
	window.refresh = function(entries) {
		var rows = [];
		for (var i = 0; i < entries.length; i++) {
			var row = Ti.UI.createTableViewRow({
				layout : "horizontal"
			});
			
			// row.add(Ti.UI.createLabel({
				// height : Ti.UI.SIZE,
				// width : Ti.UI.SIZE,
				// text : (entries[i].dateSaved.getMonth() + 1) + '/' + (entries[i].dateSaved.getDate()),
				// color : "#333399",
				// left : "10px",
				// font: { fontSize:28 },
			// }));
// 			
			row.add(Ti.UI.createLabel({
				height : Ti.UI.SIZE,
				width : Ti.UI.SIZE,
				text : entries[i].text,
				color : "#333399",
				left : "130px",
				font: { fontSize:28 },
			}));
			rows.push(row);
		}
		tableView.data = rows;
	};
	return window;
};

exports.createAddWindow = function() {
	var window = Ti.UI.createWindow({
		backgroundColor : "#ffffff",
		title : "Create Entry",
		textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER,
		font: { fontSize:28 },
		top : 20,
		layout : "vertical",
		navBarHidden : true
	});
	
	var navView = Ti.UI.createView({
		height : Ti.UI.SIZE,
		width : "100%",
		backgroundColor : "#000080"
	});
	navView.add(Ti.UI.createLabel({
		text : "create new entry",
		textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER,
		font: { fontSize:28 },
		top : 20
	}));
	var buttonCancel = Ti.UI.createButton({
		title : "cancel",
		left : 0
	});
	navView.add(buttonCancel);
	var buttonCommit = Ti.UI.createButton({
		title : "Save",
		textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER,
		font: { fontSize:28 },
		top : 20,
		right : 0
	});
	navView.add(buttonCommit);
	window.add(navView);
	
	var textInput = Ti.UI.createTextArea({
		width : "100%",
		height : Ti.UI.FILL	
	});
	window.add(textInput);
	
	//dead code
	var buttonSave = Ti.UI.createButton({
		title : "OK",
		height : Ti.UI.SIZE,
		width : Ti.UI.SIZE
	});
	
	buttonCancel.addEventListener('click', function(){
		window.close();
	});
	
	buttonCommit.addEventListener('click', function(){
		var vl = textInput.value.trim();
		if (vl.length > 0)
			window.fireEvent('save', {
				entry : textInput.value
			});
	});
	return window;
};

exports.createGalleryWindow = function() {
	var window = Ti.UI.createWindow({
		title : "Gallery Window",
		textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER,
		font: { fontSize:28 },
		top : 20,
		backgroundColor : "#000000",
		layout : "vertical"
	});
	var navView = Ti.UI.createView({
		height : Ti.UI.SIZE,
		width : "100%",
		backgroundColor : "#000080",
		layout : "horizontal"
	});
	
	navView.add(Ti.UI.createLabel({
		text : "  Image Gallery  ",
		textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER,
		font: { fontSize:28 },
		color : "white",
		top : 20
	}));
	
	var cancelButton = Ti.UI.createButton({
		title : "  Cancel  ",
		textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER,
		font: { fontSize:28 },
		top : 20
	});
	navView.add(addPhotoButton);
	
	cancelButton.addEventListener('click', function() {
		window.close();
	});
	return window;
};
